<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3" >
<head>
    <title>register</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>

<h1>  register</h1>

<div sec:authorize-url="/ADMIN">
    <br />
    <a th:href="@{/file}">Admin-file</a>
</div>

<div sec:authorize="isAuthenticated()" >
    Hello <span sec:authentication="name"> someone</span>!
</div>


 <form method="post" th:action="@{/Success}" th:object="${user}"  enctype="multipart/form-data">
 <div class="errors" th:if="${#fields.hasErrors('*')}">
     <ul>
         <li th:each="err : ${#fields.errors('*')}"
             th:text="${err}">填写符合规范</li>
     </ul>
 </div>
     <label th:class="${#fields.hasErrors('name')} ? 'error'">name</label>
     <input type="text" th:field="*{name}"
             th:class="${#fields.hasErrors('name')} ? 'error'" /><br />

     <input type="submit" value="注册" />
 </form>

</body>
</html>
